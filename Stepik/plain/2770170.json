{"reply": {"code": "from sys import setrecursionlimit\nsetrecursionlimit(1000000)\n\ndef dfs(node):\n    max_size = 0\n    for child in children[node]:\n        max_size = max(max_size, dfs(child))\n    leaves[node] = max_size + 1\n    return max_size + 1\n\n\nn = int(input())\nparents = list(map(int, input().split()))\nchildren = [[] for i in range(n + 1)]\nfor i in range(2, n + 1):\n    parent = parents[i - 2]\n    children[parent].append(i)\nleaves = [0] * (n + 1)\ndfs(1)\nprint(*leaves[1:])\n", "language": "python3.12"}}