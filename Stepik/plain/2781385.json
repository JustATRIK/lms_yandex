{"reply": {"code": "#include <iostream>\n#include <vector>\n#include <deque>\n#include <limits>\n\nusing namespace std;\n\nconst int INF = 1e9;\n\nint main() {\n    ios_base::sync_with_stdio(false);\n    cin.tie(nullptr);\n\n    int n, m;\n    cin >> n >> m;\n\n    vector<vector<pair<int, int>>> adj(n + 10); // adj[u] \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043f\u0430\u0440\u044b (v, w)\n\n    for (int i = 0; i < m; ++i) {\n        int u, v;\n        cin >> u >> v;\n        adj[u].push_back({v, 0});\n        adj[v].push_back({u, 1});\n    }\n\n    int k;\n    cin >> k;\n\n    vector<int> res;\n\n    for (int i = 0; i < k; ++i) {\n        int a, b;\n        cin >> a >> b;\n\n        vector<int> dist(n + 2, INF);\n        dist[a] = 0;\n        deque<int> dq;\n        dq.push_front(a);\n\n        while (!dq.empty()) {\n            int u = dq.front();\n            dq.pop_front();\n\n            for (auto& [v, w] : adj[u]) {\n                if (dist[v] > dist[u] + w) {\n                    dist[v] = dist[u] + w;\n                    if (w == 0)\n                        dq.push_front(v);\n                    else\n                        dq.push_back(v);\n                }\n            }\n        }\n\n        if (dist[b] == INF)\n            res.push_back(-1);\n        else\n            res.push_back(dist[b]);\n    }\n\n    for (int val : res)\n        cout << val << '\\n';\n\n    return 0;\n}", "language": "c++20"}}