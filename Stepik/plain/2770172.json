{"reply": {"code": "from sys import setrecursionlimit\nsetrecursionlimit(1000000)\n\ndef dfs(node):\n    size = 1\n    for child in children[node]:\n        size += dfs(child)\n    leaves[node] = size\n    return size\n\n\nn = int(input())\nparents = list(map(int, input().split()))\nchildren = [[] for i in range(n + 1)]\nfor i in range(2, n + 1):\n    parent = parents[i - 2]\n    children[parent].append(i)\nleaves = [0] * (n + 1)\ndfs(1)\nprint(*leaves[1:])\n", "language": "python3.12"}}